(this["webpackJsonpcounty-drop-down"]=this["webpackJsonpcounty-drop-down"]||[]).push([[0],{409:function(e,t,a){e.exports=a(519)},414:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=a(85),i=a(30),s=a(29),u=(a(414),a(79)),m=a(394),d=a(37),p=a.n(d),f=a(76),g=a(12),b=a(97),E=a.n(b),C=a(283),h=a.n(C),O=a(548),y=a(399),j=a(291),v=a(152),x=a(369),S=a(391),w=a.n(S),D=a(393),N=a.n(D),T=a(392),I=a.n(T),k=a(289),P=a(287),V=a(370),q=a(531),M=a(279),B=a(65),U=a(371),H=a(560),A=a(376),W=a(551),_=(a(496),a(497),a(293)),R=a(225),F=a(178),L=a(563),z=a(547);a(498);function Y(e){return r.a.createElement(F.b,{utils:R.default},r.a.createElement(O.a,{container:!0,justifyContent:"space-around"},r.a.createElement(L.b,{id:"date-picker-dialog",label:"Select Date of count",format:"MM/dd/yyyy",value:e.selectedDate,onChange:e.onDateChange,KeyboardButtonProps:{"aria-label":"change date"},error:e.formValidation.DateOfCount,helperText:e.formValidation.DateOfCount?"Required":""}),r.a.createElement(z.a,{id:"time-picker",label:"Select Time of count",value:e.selectedTime,onChange:e.onTimeChange,KeyboardButtonProps:{"aria-label":"change time"},error:e.formValidation.TimeOfCount,helperText:e.formValidation.TimeOfCount?"Required":""})))}var J=a(290),K=a(383);function G(e){var t=String(e.list).split(",");return r.a.createElement(J.a,{row:!0},r.a.createElement(V.a,{control:r.a.createElement(K.a,{checked:t.includes("M100_tabulator"),onChange:e.onCheckBoxChange,name:"M100_tabulator",color:"primary"}),label:"M100 tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(K.a,{checked:t.includes("DS200_tabulator"),onChange:e.onCheckBoxChange,name:"DS200_tabulator",color:"primary"}),label:"DS200 tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(K.a,{checked:t.includes("D650_central_tabulator"),onChange:e.onCheckBoxChange,name:"D650_central_tabulator",color:"primary"}),label:"D650 central tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(K.a,{checked:t.includes("DS_850_central_tabulator"),onChange:e.onCheckBoxChange,name:"DS_850_central_tabulator",color:"primary"}),label:"DS 850 central tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(K.a,{checked:t.includes("iVotronic_touchscreen_machines"),onChange:e.onCheckBoxChange,name:"iVotronic_touchscreen_machines",color:"primary"}),label:"iVotronic touchscreen machines"}))}var Z=a(552),$=a(553),Q=Object(v.a)({root:{minWidth:70,margin:0,padding:0,textAlign:"center",align:"center",minHeight:5,height:"100%"},title:{fontSize:14,margin:0,padding:0},pos:{margin:0,padding:0}});function X(e){var t=Q();return r.a.createElement(Z.a,{className:t.root,variant:"outlined"},r.a.createElement($.a,null,r.a.createElement(B.a,{className:t.title},e.cardName),r.a.createElement(B.a,{className:t.pos,color:"textSecondary"},e.CardValue||"NA")))}a(185),Object(v.a)((function(e){return{root:{width:"100%"},title:{fontSize:20,margin:1,marginTop:10,padding:1,textAlign:"center"},text:{margin:10}}}));var ee=a(126),te=a.n(ee),ae=null;function ne(){null!==ae&&(clearInterval(ae),ae=null)}function re(e,t){Object(s.f)();ne(),ae=setInterval((function(){console.log("timer",te.a.get("userData")),void 0===te.a.get("userData")&&t()}),2e3)}function oe(e){console.log("stay",e),te.a.set("userData",JSON.stringify(e),{expires:.5})}var ce=a(544),le=a(546),ie=a(545),se=a(556),ue=a(557);function me(e){var t=Object(s.f)(),a=Object(n.useState)("true"),o=Object(i.a)(a,2),c=(o[0],o[1],function(){t.replace("/logout")});return r.a.createElement(ce.a,{open:e.open,onClose:function(){return"true"},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ue.a,{id:"alert-dialog-title"},"Your login expried."),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"Do you want to stay login?"),r.a.createElement(_.a,{date:Date.now()+5e3,renderer:function(e){var t=e.seconds;return r.a.createElement("span",null,"Seconds: ",t)},onComplete:c})),r.a.createElement(le.a,null,r.a.createElement(j.a,{onClick:c,color:"primary"},"Logout"),r.a.createElement(j.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Stay")))}var de="https://sampleaudit.ncsbe.gov",pe=function(e){var t,a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1];re(e.userData,(function(){l(!0)}));var s=r.a.useState(Object(g.a)({},{CountyId:"",SampleID:"",ElectionDate:"",CountyName:"",ContestName:"",TypeOfSample:"",PrecinctSiteName:"",CandidateName1:"",CandidateName2:""})),d=Object(i.a)(s,2),b=d[0],C=d[1],S=Object(n.useState)(!1),D=Object(i.a)(S,2),T=D[0],_=D[1],R=Object(n.useState)({DateOfCount:!1,TimeOfCount:!1,VotingEquipmentUsed:!1,TotalTime:!1,CostOfCount:!1,PeoplePartyCounting:!1,HumanOrMachineError:!1,DifferenceExplanation:!1,CandidatesCounts:!1}),F=Object(i.a)(R,2),L=F[0],z=F[1],J=Object(n.useState)(""),K=Object(i.a)(J,2),Z=(K[0],K[1],Object(n.useState)([])),$=Object(i.a)(Z,2),Q=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(i.a)(te,2),ne=ae[0],oe=ae[1],ce=Object(n.useState)("Submit"),le=Object(i.a)(ce,2),ie=(le[0],le[1],Object(n.useState)({label1:"",label2:" Done",label1Color:"warning.main",label2Color:"warning.main"})),se=Object(i.a)(ie,2),ue=se[0],pe=se[1],fe=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,o,c,l,i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://sampleaudit.ncsbe.gov/sampleAudit/getDetailByCountySampleId/".concat(t,"/").concat(a));case 2:return n=e.sent,e.next=5,n.data;case 5:r=e.sent,console.log("Sample Data",r),o=(o=String(r.DateOfCount)).slice(0,-1),c=(c=String(r.TimeOfCount)).slice(0,-1),l=Number(r.CostOfCount),i=Number(r.TotalTime),s=r.VotingEquipmentUsed.split(","),C(Object(g.a)(Object(g.a)({},b),{},{CountyId:t,SampleID:r.SampleId.toString(),ElectionDate:r.ElectionDate,TypeOfSample:r.TypeOfSample,PrecinctSiteName:r.PrecinctSiteName,ContestName:r.ContestName,CountyName:r.CountyName,DateOfCount:o,TimeOfCount:c,VotingEquipmentUsed:s,HumanOrMachineError:r.HumanOrMachineError,DifferenceExplanation:r.DifferenceExplanation,PeoplePartyCounting:r.PeoplePartyCounting,TotalTime:i,CostOfCount:l}));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://sampleaudit.ncsbe.gov/sampleAudit/getCandidateByCountySampleId/".concat(t,"/").concat(a));case 3:return n=e.sent,e.next=6,n.data;case 6:r=e.sent,ee(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("putbody",n),console.log("canId",a),e.next=4,E.a.put("https://sampleaudit.ncsbe.gov/sampleAudit/updateCandidate",n);case 4:e.sent,r=Object(m.a)(Q),console.log("updateData",r),console.log("newData",t),o=r.findIndex((function(e){return e.SampleCandidateId==t.SampleCandidateId})),r[o].CandidateName=t.CandidateName,r[o].Machine=parseInt(t.Machine),r[o].HandToEye=parseInt(t.HandToEye),r[o].DifferenceInCount=Math.abs(parseInt(t.Machine)-parseInt(t.HandToEye)),ee(r),console.log("candidate update name",r);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updatFunction",n),console.log("".concat(de,"/sampleAudit/updateSample")),"".concat(de,"/sampleAudit/updateSample"),e.next=5,E.a.put("".concat(de,"/sampleAudit/updateSample"),n);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ce=r.a.createElement("h1",null,"Sample Audit Record"),he={Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))}))};r.a.useEffect((function(){var e=Q.map((function(e){return e.DifferenceInCount})).some((function(e){return 0!==e}));_(!!e)}),[Q]),r.a.useEffect((function(){console.log(e.userData.CountyId);var t=e.userData.CountyId;fe(t,1),ge(t,1),console.log(b.sampleId)}),[]);var Oe=Object(v.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},outerColumn:{borderRight:"1px solid grey",borderBottom:"1px solid grey",borderLeft:"1px solid grey"},bigTitle:{textAlign:"center",fontSize:30,color:"blue",fontWeight:800,margin:5,padding:5},title:{textAlign:"center",fontSize:15,color:"blue",fontWeight:600,margin:0,marginBottom:5,padding:0},error:{textAlign:"center",fontSize:18,color:"red",fontWeight:600,margin:0,marginBottom:5,padding:0},text:{fontSize:13,color:"blue",fontWeight:500,paddingTop:10,paddingLeft:50},textBox:{paddingTop:6,"& .MuiTextField-root":{margin:e.spacing(0),width:"100%"}},formBox:{border:"1px solid grey"},entireForm:{paddingTop:30,paddingLeft:"10%",paddingRight:"10%",paddingBottom:50},VotingEquipmentUsed:{paddingLeft:15},cost:{padding:15},costInput:{paddingLeft:30},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200,"& p":{color:"red"}}}}))();return r.a.createElement(O.a,{container:!0,className:Oe.entireForm,spacing:2},r.a.createElement(O.a,{container:!0,item:!0,justifyContent:"center"},Ce,r.a.createElement("button",{onClick:function(){console.log("sampleDetail Clicked",b),console.log("candidateData",Q)}}," click2"),r.a.createElement(me,{open:c,userData:e.userData,handleClose:function(){l(!1)}})),r.a.createElement(O.a,{container:!0,justifyContent:"center",spacing:1},r.a.createElement(A.a,{"aria-label":"gender",name:"gender1",value:b.SampleID,onChange:function(e){var t=b.CountyId,a=e.target.value;fe(t,a),ge(t,a)},row:!0},r.a.createElement(M.a,{border:3,borderColor:ue.label1Color,borderRadius:16,component:"span",m:1,p:0,pr:1,pl:1},r.a.createElement(V.a,{value:"1",control:r.a.createElement(H.a,null),label:r.a.createElement("span",{style:{fontSize:"120%"}},"Sample One")})),r.a.createElement(M.a,{border:3,borderColor:ue.label2Color,borderRadius:16,component:"span",m:1,p:0,pr:1,pl:1},r.a.createElement(V.a,{value:"2",control:r.a.createElement(H.a,null),label:r.a.createElement("span",{style:{fontSize:"120%"}},"Sample Two")})))),r.a.createElement(O.a,{container:!0,item:!0,spacing:0,justifyContent:"space-between",alignItems:"stretch"},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(X,{cardName:"County",CardValue:b.CountyName})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(X,{cardName:"Election Date",CardValue:b.ElectionDate.toString().substring(0,10)})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(X,{cardName:"Contest Name",CardValue:b.ContestName})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(X,{cardName:"Type Of Sample",CardValue:b.TypeOfSample})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(X,{cardName:"Site Name",CardValue:b.PrecinctSiteName}))),r.a.createElement(O.a,{container:!0,item:!0,spacing:0,justifyContent:"center"},r.a.createElement(M.a,{border:1,padding:2},r.a.createElement(O.a,{container:!0,spacing:2,justifyContent:"center"},r.a.createElement(O.a,{item:!0,xs:12,className:Oe.bigTitle},"Sample Audit Form"),r.a.createElement(O.a,{container:!0,item:!0,xs:12},r.a.createElement(O.a,{item:!0,xs:6,style:{border:"1px solid grey"}},r.a.createElement(B.a,{className:Oe.title},"Select date and time"),r.a.createElement(Y,{onDateChange:function(e){console.log("data of count",e),C(Object(g.a)(Object(g.a)({},b),{},{DateOfCount:e})),z(Object(g.a)(Object(g.a)({},L),{},{DateOfCount:!1}))},onTimeChange:function(e){console.log("OG time of count",e);var t=e.toLocaleString("en-US",{timeZone:"America/New_York"});console.log("NewTime",t),C(Object(g.a)(Object(g.a)({},b),{},{TimeOfCount:t})),z(Object(g.a)(Object(g.a)({},L),{},{TimeOfCount:!1}))},selectedDate:b.DateOfCount,selectedTime:b.TimeOfCount,formValidation:L})),r.a.createElement(O.a,{item:!0,xs:6,className:Oe.VotingEquipmentUsed,style:{border:"1px solid grey"}},r.a.createElement(P.a,{error:L.VotingEquipmentUsed},r.a.createElement(q.a,null,r.a.createElement(B.a,{className:Oe.title},"Voting equipment used for this sample")),r.a.createElement(G,{onCheckBoxChange:function(e){var t=b.VotingEquipmentUsed;e.target.checked?t.push(e.target.name):t=t.filter((function(t){return t!==e.target.name})),C(Object(g.a)(Object(g.a)({},b),{},{VotingEquipmentUsed:t})),z(Object(g.a)(Object(g.a)({},L),{},{VotingEquipmentUsed:!1}))},list:b.VotingEquipmentUsed}),r.a.createElement(k.a,null,L.VotingEquipmentUsed?"Required":""))),r.a.createElement(O.a,{container:!0,item:!0,xs:6,style:{border:"1px solid grey"},className:Oe.cost},r.a.createElement(O.a,{item:!0},r.a.createElement(B.a,{className:Oe.title},"Time necessary to complete this count (not BOTH counts)")),r.a.createElement(O.a,{item:!0,className:Oe.costInput},r.a.createElement(x.a,{InputProps:{startAdornment:r.a.createElement(U.a,{position:"start"},"Hr"),inputProps:{min:0,max:30}},type:"number",id:"filled-required",value:b.TotalTime,onChange:function(e){C(Object(g.a)(Object(g.a)({},b),{},{TotalTime:e.target.value})),z(Object(g.a)(Object(g.a)({},L),{},{TotalTime:!1}))},error:L.TotalTime,helperText:L.TotalTime?"Required":""}))),r.a.createElement(O.a,{container:!0,item:!0,xs:6,style:{border:"1px solid grey"},className:Oe.cost},r.a.createElement(O.a,{item:!0,className:Oe.title},r.a.createElement(B.a,{className:Oe.title}," Cost or estimated cost of this count (not BOTH counts)")),r.a.createElement(O.a,{item:!0,className:Oe.costInput},r.a.createElement(x.a,{InputProps:{startAdornment:r.a.createElement(U.a,{position:"start"},"$"),inputProps:{min:0,max:99999}},type:"number",id:"filled-required",value:b.CostOfCount,onChange:function(e){console.log("costhandle",e.target.value),C(Object(g.a)(Object(g.a)({},b),{},{CostOfCount:e.target.value})),z(Object(g.a)(Object(g.a)({},L),{},{CostOfCount:!1}))},error:L.CostOfCount,helperText:L.CostOfCount?"Required":""})))),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(h.a,(t={title:"Enter counts for each candidates"},Object(u.a)(t,"title",L.CandidatesCounts?r.a.createElement(B.a,{className:Oe.error},"Every candidate counts is required"):"Enter counts for each candidates"),Object(u.a)(t,"columns",[{title:"Candidate Name",field:"CandidateName"},{title:"Machine",field:"Machine",type:"numeric"},{title:"Hand-To-Eye",field:"HandToEye",type:"numeric"},{title:"Difference In Count",field:"DifferenceInCount",editable:"never",type:"numeric"}]),Object(u.a)(t,"data",Q),Object(u.a)(t,"icons",he),Object(u.a)(t,"options",{search:!1,paging:!1,sorting:!1,actionsColumnIndex:-1}),Object(u.a)(t,"style",L.CandidatesCounts&&{border:"2px solid red"}),Object(u.a)(t,"editable",{onRowUpdate:function(e,t){return new Promise((function(a,n){z(Object(g.a)(Object(g.a)({},L),{},{CandidatesCounts:!1}));var r=t.SampleCandidateId,o=Math.abs(parseInt(e.Machine)-parseInt(e.HandToEye)),c={SampleCandidateId:e.SampleCandidateId,CandidateName:e.CandidateName,Machine:e.Machine,HandToEye:e.HandToEye,DifferenceInCount:o};console.log(c),be(e,r,c).then((function(e){console.log(e),a()}))}))}}),t))),r.a.createElement(O.a,{Container:!0,item:!0,xs:12,justifyContent:"center",spacing:5},r.a.createElement(W.a,{in:!0,timeout:1e3,justifyContent:"center"},r.a.createElement(y.a,{in:!0,timeout:1e3,justifyContent:"center"},r.a.createElement(O.a,{container:!0,justifyContent:"center",style:L.DifferenceExplanation&&{border:"2px solid red"}},r.a.createElement(O.a,{item:!0,className:Oe.title},r.a.createElement(B.a,{className:Oe.title},"Explanation of any difference (skip this section if there was no difference in any totals)")),r.a.createElement(O.a,{container:!0,item:!0,xs:12,justifyContent:"center",style:{border:"1px solid grey"}},r.a.createElement(O.a,{item:!0,xs:8,className:Oe.text,justifyContent:"center"},r.a.createElement(B.a,{className:Oe.title},"If there is a difference, is it attributable to machine error or human error?")),r.a.createElement(O.a,{item:!0,xs:4,justifyContent:"center"},r.a.createElement(A.a,{row:!0,onChange:function(e){C(Object(g.a)(Object(g.a)({},b),{},{HumanOrMachineError:e.target.value})),z(Object(g.a)(Object(g.a)({},L),{},{HumanOrMachineError:!1}))},value:String(b.HumanOrMachineError)},r.a.createElement(V.a,{value:"Machine",control:r.a.createElement(H.a,null),label:"Machine error"}),r.a.createElement(V.a,{value:"Human",control:r.a.createElement(H.a,null),label:"Human error"})))),r.a.createElement(O.a,{item:!0,xs:12,className:Oe.textBox},r.a.createElement(O.a,{item:!0,xs:12,className:Oe.title},r.a.createElement(B.a,{className:Oe.title},"Detailed explanation of what caused the difference")),r.a.createElement("form",{noValidate:!0,autoComplete:"on"},r.a.createElement(x.a,{id:"outlined-multiline-static",multiline:!0,rows:5,value:b.DifferenceExplanation,defaultValue:"",variant:"outlined",onChange:function(e){console.log(e.target.value),C(Object(g.a)(Object(g.a)({},b),{},{DifferenceExplanation:e.target.value})),z(Object(g.a)(Object(g.a)({},L),{},{DifferenceExplanation:!1}))}}))))))),r.a.createElement(O.a,{Container:!0,item:!0,xs:12,justifyContent:"center",spacing:5},r.a.createElement(O.a,{item:!0,xs:12,className:Oe.title},r.a.createElement(B.a,{className:Oe.title},"Who conducted the count (must consist of multiple persons of different party affiliation)")),r.a.createElement(O.a,{item:!0,xs:12,className:Oe.textBox},r.a.createElement(x.a,{id:"outlined-multiline-static",multiline:!0,rows:5,value:b.PeoplePartyCounting,variant:"outlined",onChange:function(e){console.log("people value",e.target.value),z(Object(g.a)(Object(g.a)({},L),{},{PeoplePartyCounting:!1})),C(Object(g.a)(Object(g.a)({},b),{},{PeoplePartyCounting:e.target.value}))},error:L.PeoplePartyCounting,helperText:L.PeoplePartyCounting?"Required":" "}))),r.a.createElement(O.a,{item:!0,spacing:12,justifyContent:"center"},r.a.createElement(j.a,{color:"primary",variant:"contained",onClick:function(e){var t=Object(g.a)({},L);t=b.DateOfCount?t:Object(g.a)(Object(g.a)({},t),{},{DateOfCount:!0}),t=b.TimeOfCount?t:Object(g.a)(Object(g.a)({},t),{},{TimeOfCount:!0}),t=1===b.VotingEquipmentUsed.length?Object(g.a)(Object(g.a)({},t),{},{VotingEquipmentUsed:!0}):t,t=T&&!b.HumanOrMachineError?Object(g.a)(Object(g.a)({},t),{},{HumanOrMachineError:!0}):t,t=T&&!b.DifferenceExplanation?Object(g.a)(Object(g.a)({},t),{},{DifferenceExplanation:!0}):t,t=b.PeoplePartyCounting?t:Object(g.a)(Object(g.a)({},t),{},{PeoplePartyCounting:!0}),t=b.CostOfCount?t:Object(g.a)(Object(g.a)({},t),{},{CostOfCount:!0}),t=b.TotalTime?t:Object(g.a)(Object(g.a)({},t),{},{TotalTime:!0});var a=Q.some((function(e){return 0!=e.HandToEye})),n=Q.some((function(e){return 0!=e.Machine}));t=a||n?t:Object(g.a)(Object(g.a)({},t),{},{CandidatesCounts:!0}),z(t),console.log("sampleDetail",b),console.log("validation object",t);var r=0;for(var o in t)t[o]&&(r+=1);if(0==r){console.log(b.SampleID);var c="label"+b.SampleID+"Color";console.log(c),pe(Object(g.a)(Object(g.a)({},ue),{},Object(u.a)({},c,"success.main"))),Ee(b.CountyId,b.SampleID,b).then((function(e){console.log(e),oe(!1)})).catch((function(e){console.log(e)}));var l="Sample "+b.SampleID+" submitted";alert(l)}else alert("Please fill all required cells"),oe(!1)},disabled:ne},ne?"Your form is submitted!":!ne&&"Submit"))))))},fe=a(561),ge=a(555),be=a(558),Ee=a(245),Ce=a.n(Ee),he=a(554),Oe=a(247),ye=a(532),je=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},e.next=3,E.a.put("https://sampleaudit.ncsbe.gov/auth/check/".concat(t),n);case 3:if("User not found"!==(r=e.sent).data){e.next=8;break}return e.abrupt("return","Email not in the system");case 8:return e.next=10,r.data;case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function ve(){return r.a.createElement(B.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(be.a,{color:"inherit",href:"https://www.ncsbe.gov/"},"NCSBE")," ",(new Date).getFullYear(),".")}var xe=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper2:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[1],padding:e.spacing(2,4,3)}}}));function Se(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(),u=Object(i.a)(l,2),m=u[0],d=u[1],g=Object(s.f)(),b=r.a.useState(!1),E=Object(i.a)(b,2),C=E[0],h=E[1],v=xe(),S=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o||alert("please enter email"),m||alert("please enter password"),t.next=4,je(o,m);case 4:"Email not in the system"===(a=t.sent)?alert(a):"login fail"===a?alert("Wrong Password"):"True"===a.IsDefault?(e.onUserAuthenticated(a),g.push("/change-password")):(console.log(a.CountyId),e.onUserAuthenticated(a),g.push("/audit-form"));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(he.a,{component:"main",maxWidth:"xs"},r.a.createElement(ge.a,null),r.a.createElement("div",{className:v.paper},r.a.createElement(fe.a,{className:v.avatar},r.a.createElement(Ce.a,null)),r.a.createElement(B.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:v.form,Validate:!0},r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){console.log(e.target.value),c(e.target.value)}}),r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){d(e.target.value)}}),r.a.createElement(j.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:v.submit,onClick:S},"Sign In"),r.a.createElement(O.a,{container:!0,justifyContent:"flex-end"},r.a.createElement(O.a,{item:!0,type:"button",onClick:function(){h(!0)}},r.a.createElement(be.a,{href:"#",variant:"body2"},"Forgot password?"))))),r.a.createElement(Oe.a,{className:v.modal,open:C,onClose:function(){h(!1)},BackdropComponent:ye.a,BackdropProps:{timeout:500}},r.a.createElement(y.a,{in:C},r.a.createElement("div",{className:v.paper2},r.a.createElement("h2",null,"Forget Password?"),r.a.createElement("p",null,"Please send a help desk ticket to "),r.a.createElement("p",null,"HelpRequest.SBOE@ncbse.gov"),r.a.createElement("p",null,"to rest your password ")))),r.a.createElement(M.a,{mt:8},r.a.createElement(ve,null)))}function we(){return r.a.createElement(B.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(be.a,{color:"inherit",href:"https://www.ncsbe.gov/"},"NCSBE")," ",(new Date).getFullYear(),".")}var De=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ne=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={WebUserId:t,UserPassword:a},e.next=3,E.a.put("https://sampleaudit.ncsbe.gov/auth/updateWebUser",n);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Te(e){var t=De(),a=Object(s.f)(),o=Object(n.useState)(),c=Object(i.a)(o,2),l=c[0],u=c[1],m=Object(n.useState)(),d=Object(i.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(),b=Object(i.a)(g,2),E=b[0],C=b[1];r.a.useEffect((function(){C(e.userData.WebUserId)}),[]);return r.a.createElement(he.a,{component:"main",maxWidth:"xs"},r.a.createElement(ge.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(fe.a,{className:t.avatar},r.a.createElement(Ce.a,null)),r.a.createElement(B.a,{component:"h1",variant:"h5"},"Change Password"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"New Password",label:"New Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value)}}),r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Confirm Password",label:"Confirm Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)}}),r.a.createElement(j.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){l===p?(Ne(E,l),a.push("/login")):alert("Passwords don't match")}},"Change Password"))),r.a.createElement(M.a,{mt:8},r.a.createElement(we,null)))}function Ie(e){var t=Object(s.f)();return e.onLogout(),t.replace("/login"),null}var ke=function(){var e=Object(n.useState)(function(){var e=te.a.get("userData");return void 0===e?{}:JSON.parse(e)}()),t=Object(i.a)(e,2),a=t[0],o=t[1];console.log("user data",a);var c=function(e){o(e),oe(e)};return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,"False"===a.IsDefault&&r.a.createElement(l.b,{to:"/audit-form"},"Audit Form")),r.a.createElement("li",null,"False"===a.IsDefault?r.a.createElement(l.b,{to:"/logout"},"Logout"):r.a.createElement(l.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://sampleaudit.ncsbe.gov/files/User-Manual.docx",download:!0},"User-Manual")))),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/login"},r.a.createElement(Se,{onUserAuthenticated:c})),r.a.createElement(s.a,{exact:!0,path:"/logout"},r.a.createElement(Ie,{onLogout:function(){ne(),o({}),te.a.remove("userData")}})),r.a.createElement(s.a,{path:"/change-password"},r.a.createElement(Te,{userData:a})),r.a.createElement(s.a,{exact:!0,path:"/audit-form"},r.a.createElement(pe,{userData:a})),r.a.createElement(s.a,{path:"/"},r.a.createElement(Se,{onUserAuthenticated:c})))))},Pe=document.getElementById("root");c.a.render(r.a.createElement(l.a,null,r.a.createElement(ke,null)),Pe)}},[[409,1,2]]]);
//# sourceMappingURL=main.00d71e64.chunk.js.map