(this["webpackJsonpcounty-drop-down"]=this["webpackJsonpcounty-drop-down"]||[]).push([[0],{409:function(e,t,a){e.exports=a(519)},414:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=a(29),i=a(94),s=a(31),u=(a(414),a(79)),m=a(394),d=a(37),p=a.n(d),f=a(76),g=a(13),b=a(97),E=a.n(b),C=a(284),h=a.n(C),O=a(548),y=a(292),j=a(399),x=a(152),v=a(369),w=a(391),S=a.n(w),D=a(393),N=a.n(D),T=a(392),I=a.n(T),k=a(290),P=a(288),V=a(370),q=a(531),M=a(280),U=a(65),B=a(371),A=a(560),H=a(376),W=a(551),_=(a(496),a(497),a(544)),R=a(546),F=a(545),L=a(556),z=a(557),Y=a(245),J=a(225),K=a(178),G=a(563),Z=a(547);a(498);function $(e){return console.log("ogDate",e.selectedDate),r.a.createElement(K.b,{utils:J.default},r.a.createElement(O.a,{container:!0,justifyContent:"space-around"},r.a.createElement(G.b,{id:"date-picker-dialog",label:"Select Date of count",format:"MM/dd/yyyy",value:e.selectedDate,onChange:e.onDateChange,KeyboardButtonProps:{"aria-label":"change date"},error:e.formValidation.DateOfCount,helperText:e.formValidation.DateOfCount?"Required":""}),r.a.createElement(Z.a,{id:"time-picker",label:"Select Time of count",value:e.selectedTime,onChange:e.onTimeChange,KeyboardButtonProps:{"aria-label":"change time"},error:e.formValidation.TimeOfCount,helperText:e.formValidation.TimeOfCount?"Required":""})))}var Q=a(291),X=a(383);function ee(e){var t=String(e.list).split(",");return r.a.createElement(Q.a,{row:!0},r.a.createElement(V.a,{control:r.a.createElement(X.a,{checked:t.includes("M100_tabulator"),onChange:e.onCheckBoxChange,name:"M100_tabulator",color:"primary"}),label:"M100 tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(X.a,{checked:t.includes("DS200_tabulator"),onChange:e.onCheckBoxChange,name:"DS200_tabulator",color:"primary"}),label:"DS200 tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(X.a,{checked:t.includes("D650_central_tabulator"),onChange:e.onCheckBoxChange,name:"D650_central_tabulator",color:"primary"}),label:"D650 central tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(X.a,{checked:t.includes("DS_850_central_tabulator"),onChange:e.onCheckBoxChange,name:"DS_850_central_tabulator",color:"primary"}),label:"DS 850 central tabulator"}),r.a.createElement(V.a,{control:r.a.createElement(X.a,{checked:t.includes("iVotronic_touchscreen_machines"),onChange:e.onCheckBoxChange,name:"iVotronic_touchscreen_machines",color:"primary"}),label:"iVotronic touchscreen machines"}))}var te=a(552),ae=a(553),ne=Object(x.a)({root:{minWidth:70,margin:0,padding:0,textAlign:"center",align:"center",minHeight:5,height:"100%"},title:{fontSize:14,margin:0,padding:0},pos:{margin:0,padding:0}});function re(e){var t=ne();return r.a.createElement(te.a,{className:t.root,variant:"outlined"},r.a.createElement(ae.a,null,r.a.createElement(U.a,{className:t.title},e.cardName),r.a.createElement(U.a,{className:t.pos,color:"textSecondary"},e.CardValue||"NA")))}a(185),Object(x.a)((function(e){return{root:{width:"100%"},title:{fontSize:20,margin:1,marginTop:10,padding:1,textAlign:"center"},text:{margin:10}}}));var oe=a(126),le=a.n(oe),ce=function(){return void 0===le.a.get("userData")},ie=null;function se(){null!==ie&&(clearInterval(ie),ie=null)}function ue(e){le.a.set("userData",JSON.stringify(e),{expires:1/12})}var me=function(e){var t;!function(){console.log("callthisfunction");var e=Object(s.f)();se(),ie=setInterval((function(){(console.log("timer",ce()),ce())&&(window.confirm("Your login has expired. Would you like to stay logged in?")?ue(JSON.parse(le.a.set("userData"))):(se(),e.replace("/login")))}),2e3)}();var a=r.a.useState(Object(g.a)({},{CountyId:"",SampleID:"",ElectionDate:"",CountyName:"",ContestName:"",TypeOfSample:"",PrecinctSiteName:"",CandidateName1:"",CandidateName2:""})),o=Object(c.a)(a,2),l=o[0],i=o[1],d=Object(n.useState)(!1),b=Object(c.a)(d,2),C=b[0],w=b[1],D=Object(n.useState)({DateOfCount:!1,TimeOfCount:!1,VotingEquipmentUsed:!1,TotalTime:!1,CostOfCount:!1,PeoplePartyCounting:!1,HumanOrMachineError:!1,DifferenceExplanation:!1,CandidatesCounts:!1}),T=Object(c.a)(D,2),J=T[0],K=T[1],G=Object(n.useState)(""),Z=Object(c.a)(G,2),Q=(Z[0],Z[1],Object(n.useState)([])),X=Object(c.a)(Q,2),te=X[0],ae=X[1],ne=Object(n.useState)(!1),oe=Object(c.a)(ne,2),me=oe[0],de=oe[1],pe=Object(n.useState)("Submit"),fe=Object(c.a)(pe,2),ge=(fe[0],fe[1],Object(n.useState)({label1:"",label2:" Done",label1Color:"warning.main",label2Color:"warning.main"})),be=Object(c.a)(ge,2),Ee=be[0],Ce=be[1],he=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,o,c,s,u,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("http://localhost:4000/sampleAudit/getDetailByCountySampleId/".concat(t,"/").concat(a));case 2:return n=e.sent,e.next=5,n.data;case 5:r=e.sent,console.log("Sample Data",r),o=(o=String(r.DateOfCount)).slice(0,-1),c=(c=String(r.TimeOfCount)).slice(0,-1),s=Number(r.CostOfCount),u=Number(r.TotalTime),m=r.VotingEquipmentUsed.split(","),i(Object(g.a)(Object(g.a)({},l),{},{CountyId:t,SampleID:r.SampleId.toString(),ElectionDate:r.ElectionDate,TypeOfSample:r.TypeOfSample,PrecinctSiteName:r.PrecinctSiteName,ContestName:r.ContestName,CountyName:r.CountyName,DateOfCount:o,TimeOfCount:c,VotingEquipmentUsed:m,HumanOrMachineError:r.HumanOrMachineError,DifferenceExplanation:r.DifferenceExplanation,PeoplePartyCounting:r.PeoplePartyCounting,TotalTime:u,CostOfCount:s}));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://localhost:4000/sampleAudit/getCandidateByCountySampleId/".concat(t,"/").concat(a));case 3:return n=e.sent,e.next=6,n.data;case 6:r=e.sent,ae(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("putbody",n),console.log("canId",a),e.next=4,E.a.put("http://localhost:4000/sampleAudit/updateCandidate",n);case 4:e.sent,r=Object(m.a)(te),console.log("updateData",r),console.log("newData",t),o=r.findIndex((function(e){return e.SampleCandidateId==t.SampleCandidateId})),r[o].CandidateName=t.CandidateName,r[o].Machine=parseInt(t.Machine),r[o].HandToEye=parseInt(t.HandToEye),r[o].DifferenceInCount=Math.abs(parseInt(t.Machine)-parseInt(t.HandToEye)),ae(r),console.log("candidate update name",r);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("http://localhost:4000/sampleAudit/updateSample",n);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),xe=r.a.createElement("h1",null,"Sample Audit Record"),ve={Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))}))};r.a.useEffect((function(){var e=te.map((function(e){return e.DifferenceInCount})).some((function(e){return 0!==e}));w(!!e),console.log("showExplanation",C),console.log("candidate data",te)}),[te]),r.a.useEffect((function(){console.log(e.userData.CountyId);var t=e.userData.CountyId;he(t,1),Oe(t,1),console.log(l.sampleId)}),[]);var we=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},outerColumn:{borderRight:"1px solid grey",borderBottom:"1px solid grey",borderLeft:"1px solid grey"},bigTitle:{textAlign:"center",fontSize:30,color:"blue",fontWeight:800,margin:5,padding:5},title:{textAlign:"center",fontSize:15,color:"blue",fontWeight:600,margin:0,marginBottom:5,padding:0},error:{textAlign:"center",fontSize:18,color:"red",fontWeight:600,margin:0,marginBottom:5,padding:0},text:{fontSize:13,color:"blue",fontWeight:500,paddingTop:10,paddingLeft:50},textBox:{paddingTop:6,"& .MuiTextField-root":{margin:e.spacing(0),width:"100%"}},formBox:{border:"1px solid grey"},entireForm:{paddingTop:30,paddingLeft:"10%",paddingRight:"10%",paddingBottom:50},VotingEquipmentUsed:{paddingLeft:15},cost:{padding:15},costInput:{paddingLeft:30},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200,"& p":{color:"red"}}}}))(),Se=Object(n.useState)(!1),De=Object(c.a)(Se,2),Ne=De[0],Te=De[1],Ie=function(){Te(!1)};return r.a.createElement(O.a,{container:!0,className:we.entireForm,spacing:2},r.a.createElement(O.a,{container:!0,item:!0,justifyContent:"center"},xe,r.a.createElement("button",{onClick:function(){Te(!0)}}," click"),r.a.createElement("button",{onClick:function(){console.log("sampleDetail",l),console.log("candidateData",te)}}," click2"),r.a.createElement(_.a,{open:Ne,onClose:Ie,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(z.a,{id:"alert-dialog-title"},"Your login expried."),r.a.createElement(F.a,null,r.a.createElement(L.a,{id:"alert-dialog-description"},"Do you want to stay login?"),r.a.createElement(Y.a,{date:Date.now()+3e3,renderer:function(e){var t=e.seconds;return r.a.createElement("span",null,"Automatically logout in ",t," Seconds.")},onComplete:Ie})),r.a.createElement(R.a,null,r.a.createElement(y.a,{onClick:function(){console.log("I do not agree.")},color:"primary"},"Logout"),r.a.createElement(y.a,{onClick:function(){console.log("I agree!")},color:"primary",autoFocus:!0},"Stay")))),r.a.createElement(O.a,{container:!0,justifyContent:"center",spacing:1},r.a.createElement(H.a,{"aria-label":"gender",name:"gender1",value:l.SampleID,onChange:function(e){var t=l.CountyId,a=e.target.value;he(t,a),Oe(t,a)},row:!0},r.a.createElement(M.a,{border:3,borderColor:Ee.label1Color,borderRadius:16,component:"span",m:1,p:0,pr:1,pl:1},r.a.createElement(V.a,{value:"1",control:r.a.createElement(A.a,null),label:r.a.createElement("span",{style:{fontSize:"120%"}},"Sample One")})),r.a.createElement(M.a,{border:3,borderColor:Ee.label2Color,borderRadius:16,component:"span",m:1,p:0,pr:1,pl:1},r.a.createElement(V.a,{value:"2",control:r.a.createElement(A.a,null),label:r.a.createElement("span",{style:{fontSize:"120%"}},"Sample Two")})))),r.a.createElement(O.a,{container:!0,item:!0,spacing:0,justifyContent:"space-between",alignItems:"stretch"},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(re,{cardName:"County",CardValue:l.CountyName})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(re,{cardName:"Election Date",CardValue:l.ElectionDate.toString().substring(0,10)})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(re,{cardName:"Contest Name",CardValue:l.ContestName})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(re,{cardName:"Type Of Sample",CardValue:l.TypeOfSample})),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(re,{cardName:"Site Name",CardValue:l.PrecinctSiteName}))),r.a.createElement(O.a,{container:!0,item:!0,spacing:0,justifyContent:"center"},r.a.createElement(M.a,{border:1,padding:2},r.a.createElement(O.a,{container:!0,spacing:2,justifyContent:"center"},r.a.createElement(O.a,{item:!0,xs:12,className:we.bigTitle},"Sample Audit Form"),r.a.createElement(O.a,{container:!0,item:!0,xs:12},r.a.createElement(O.a,{item:!0,xs:6,style:{border:"1px solid grey"}},r.a.createElement(U.a,{className:we.title},"Select date and time"),r.a.createElement($,{onDateChange:function(e){console.log("data of count",e),i(Object(g.a)(Object(g.a)({},l),{},{DateOfCount:e})),K(Object(g.a)(Object(g.a)({},J),{},{DateOfCount:!1}))},onTimeChange:function(e){console.log("OG time of count",e);var t=e.toLocaleString("en-US",{timeZone:"America/New_York"});console.log("NewTime",t),i(Object(g.a)(Object(g.a)({},l),{},{TimeOfCount:t})),K(Object(g.a)(Object(g.a)({},J),{},{TimeOfCount:!1}))},selectedDate:l.DateOfCount,selectedTime:l.TimeOfCount,formValidation:J})),r.a.createElement(O.a,{item:!0,xs:6,className:we.VotingEquipmentUsed,style:{border:"1px solid grey"}},r.a.createElement(P.a,{error:J.VotingEquipmentUsed},r.a.createElement(q.a,null,r.a.createElement(U.a,{className:we.title},"Voting equipment used for this sample")),r.a.createElement(ee,{onCheckBoxChange:function(e){var t=l.VotingEquipmentUsed;e.target.checked?t.push(e.target.name):t=t.filter((function(t){return t!==e.target.name})),i(Object(g.a)(Object(g.a)({},l),{},{VotingEquipmentUsed:t})),K(Object(g.a)(Object(g.a)({},J),{},{VotingEquipmentUsed:!1}))},list:l.VotingEquipmentUsed}),r.a.createElement(k.a,null,J.VotingEquipmentUsed?"Required":""))),r.a.createElement(O.a,{container:!0,item:!0,xs:6,style:{border:"1px solid grey"},className:we.cost},r.a.createElement(O.a,{item:!0},r.a.createElement(U.a,{className:we.title},"Time necessary to complete this count (not BOTH counts)")),r.a.createElement(O.a,{item:!0,className:we.costInput},r.a.createElement(v.a,{InputProps:{startAdornment:r.a.createElement(B.a,{position:"start"},"Hr"),inputProps:{min:0,max:30}},type:"number",id:"filled-required",value:l.TotalTime,onChange:function(e){i(Object(g.a)(Object(g.a)({},l),{},{TotalTime:e.target.value})),K(Object(g.a)(Object(g.a)({},J),{},{TotalTime:!1}))},error:J.TotalTime,helperText:J.TotalTime?"Required":""}))),r.a.createElement(O.a,{container:!0,item:!0,xs:6,style:{border:"1px solid grey"},className:we.cost},r.a.createElement(O.a,{item:!0,className:we.title},r.a.createElement(U.a,{className:we.title}," Cost or estimated cost of this count (not BOTH counts)")),r.a.createElement(O.a,{item:!0,className:we.costInput},r.a.createElement(v.a,{InputProps:{startAdornment:r.a.createElement(B.a,{position:"start"},"$"),inputProps:{min:0,max:99999}},type:"number",id:"filled-required",value:l.CostOfCount,onChange:function(e){console.log("costhandle",e.target.value),i(Object(g.a)(Object(g.a)({},l),{},{CostOfCount:e.target.value})),K(Object(g.a)(Object(g.a)({},J),{},{CostOfCount:!1}))},error:J.CostOfCount,helperText:J.CostOfCount?"Required":""})))),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(h.a,(t={title:"Enter counts for each candidates"},Object(u.a)(t,"title",J.CandidatesCounts?r.a.createElement(U.a,{className:we.error},"Every candidate counts is required"):"Enter counts for each candidates"),Object(u.a)(t,"columns",[{title:"Candidate Name",field:"CandidateName"},{title:"Machine",field:"Machine",type:"numeric"},{title:"Hand-To-Eye",field:"HandToEye",type:"numeric"},{title:"Difference In Count",field:"DifferenceInCount",editable:"never",type:"numeric"}]),Object(u.a)(t,"data",te),Object(u.a)(t,"icons",ve),Object(u.a)(t,"options",{search:!1,paging:!1,sorting:!1,actionsColumnIndex:-1}),Object(u.a)(t,"style",J.CandidatesCounts&&{border:"2px solid red"}),Object(u.a)(t,"editable",{onRowUpdate:function(e,t){return new Promise((function(a,n){K(Object(g.a)(Object(g.a)({},J),{},{CandidatesCounts:!1}));var r=t.SampleCandidateId,o=Math.abs(parseInt(e.Machine)-parseInt(e.HandToEye)),l={SampleCandidateId:e.SampleCandidateId,CandidateName:e.CandidateName,Machine:e.Machine,HandToEye:e.HandToEye,DifferenceInCount:o};console.log(l),ye(e,r,l).then((function(e){console.log(e),a()}))}))}}),t))),r.a.createElement(O.a,{Container:!0,item:!0,xs:12,justifyContent:"center",spacing:5},r.a.createElement(W.a,{in:!0,timeout:1e3,justifyContent:"center"},r.a.createElement(j.a,{in:!0,timeout:1e3,justifyContent:"center"},r.a.createElement(O.a,{container:!0,justifyContent:"center",style:J.DifferenceExplanation&&{border:"2px solid red"}},r.a.createElement(O.a,{item:!0,className:we.title},r.a.createElement(U.a,{className:we.title},"Explanation of any difference (skip this section if there was no difference in any totals)")),r.a.createElement(O.a,{container:!0,item:!0,xs:12,justifyContent:"center",style:{border:"1px solid grey"}},r.a.createElement(O.a,{item:!0,xs:8,className:we.text,justifyContent:"center"},r.a.createElement(U.a,{className:we.title},"If there is a difference, is it attributable to machine error or human error?")),r.a.createElement(O.a,{item:!0,xs:4,justifyContent:"center"},r.a.createElement(H.a,{row:!0,onChange:function(e){i(Object(g.a)(Object(g.a)({},l),{},{HumanOrMachineError:e.target.value}))},value:String(l.HumanOrMachineError)},r.a.createElement(V.a,{value:"Machine",control:r.a.createElement(A.a,null),label:"Machine error"}),r.a.createElement(V.a,{value:"Human",control:r.a.createElement(A.a,null),label:"Human error"})))),r.a.createElement(O.a,{item:!0,xs:12,className:we.textBox},r.a.createElement(O.a,{item:!0,xs:12,className:we.title},r.a.createElement(U.a,{className:we.title},"Detailed explanation of what caused the difference")),r.a.createElement("form",{noValidate:!0,autoComplete:"on"},r.a.createElement(v.a,{id:"outlined-multiline-static",multiline:!0,rows:5,value:l.DifferenceExplanation,defaultValue:"",variant:"outlined",onChange:function(e){console.log(e.target.value),i(Object(g.a)(Object(g.a)({},l),{},{DifferenceExplanation:e.target.value})),K(Object(g.a)(Object(g.a)({},J),{},{DifferenceExplanation:!1}))}}))))))),r.a.createElement(O.a,{Container:!0,item:!0,xs:12,justifyContent:"center",spacing:5},r.a.createElement(O.a,{item:!0,xs:12,className:we.title},r.a.createElement(U.a,{className:we.title},"Who conducted the count (must consist of multiple persons of different party affiliation)")),r.a.createElement(O.a,{item:!0,xs:12,className:we.textBox},r.a.createElement(v.a,{id:"outlined-multiline-static",multiline:!0,rows:5,value:l.PeoplePartyCounting,variant:"outlined",onChange:function(e){console.log(e.target.value),K(Object(g.a)(Object(g.a)({},J),{},{PeoplePartyCounting:!1})),i(Object(g.a)(Object(g.a)({},l),{},{PeoplePartyCounting:e.target.value}))},error:J.PeoplePartyCounting,helperText:J.PeoplePartyCounting?"Required":" "}))),r.a.createElement(O.a,{item:!0,spacing:12,justifyContent:"center"},r.a.createElement(y.a,{color:"primary",variant:"contained",onClick:function(e){var t=Object(g.a)({},J);t=l.DateOfCount?t:Object(g.a)(Object(g.a)({},t),{},{DateOfCount:!0}),t=l.TimeOfCount?t:Object(g.a)(Object(g.a)({},t),{},{TimeOfCount:!0}),t=0===l.VotingEquipmentUsed.length?Object(g.a)(Object(g.a)({},t),{},{VotingEquipmentUsed:!0}):t,t=C&&!l.HumanOrMachineError?Object(g.a)(Object(g.a)({},t),{},{HumanOrMachineError:!0}):t,t=C&&!l.DifferenceExplanation?Object(g.a)(Object(g.a)({},t),{},{DifferenceExplanation:!0}):t,t=l.PeoplePartyCounting?t:Object(g.a)(Object(g.a)({},t),{},{PeoplePartyCounting:!0}),t=l.CostOfCount?t:Object(g.a)(Object(g.a)({},t),{},{CostOfCount:!0}),t=l.TotalTime?t:Object(g.a)(Object(g.a)({},t),{},{TotalTime:!0});var a=te.some((function(e){return 0!=e.HandToEye})),n=te.some((function(e){return 0!=e.Machine}));t=a||n?t:Object(g.a)(Object(g.a)({},t),{},{CandidatesCounts:!0}),K(t),console.log(t);var r=0;for(var o in t)t[o]&&(r+=1);if(console.log("before submit date",l.DateOfCount),console.log("before submit time",l.TimeOfCount),0==r){console.log(l.SampleID);var c="label"+l.SampleID+"Color";console.log(c),Ce(Object(g.a)(Object(g.a)({},Ee),{},Object(u.a)({},c,"success.main"))),je(l.CountyId,l.SampleID,l).then((function(e){console.log(e),de(!1)})).catch((function(e){console.log(e)}))}else alert("Please fill all required cells"),de(!1)},disabled:me},me?"Your form is submitted!":!me&&"Submit"))))))},de=a(561),pe=a(555),fe=a(558),ge=a(246),be=a.n(ge),Ee=a(554),Ce=a(248),he=a(532),Oe=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),e.next=3,E.a.get("http://localhost:4000/auth/".concat(t,"/").concat(a));case 3:if("User not found"!==(n=e.sent).data){e.next=8;break}return e.abrupt("return","Email not in the system");case 8:return e.next=10,n.data;case 10:return r=e.sent,e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function ye(){return r.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(fe.a,{color:"inherit",href:"https://www.ncsbe.gov/"},"NCSBE")," ",(new Date).getFullYear(),".")}var je=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper2:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[1],padding:e.spacing(2,4,3)}}}));function xe(e){var t=Object(n.useState)(),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(),u=Object(c.a)(i,2),m=u[0],d=u[1],g=Object(s.f)(),b=r.a.useState(!1),E=Object(c.a)(b,2),C=E[0],h=E[1],x=je(),w=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o||alert("please enter email"),m||alert("please enter password"),t.next=4,Oe(o,m);case 4:"Email not in the system"===(a=t.sent)?alert(a):"login fail"===a?alert("Wrong Password"):"True"===a.IsDefault?(e.onUserAuthenticated(a),g.push("/change-password")):(console.log(a.CountyId),e.onUserAuthenticated(a),g.push("/audit-form"));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(Ee.a,{component:"main",maxWidth:"xs"},r.a.createElement(pe.a,null),r.a.createElement("div",{className:x.paper},r.a.createElement(de.a,{className:x.avatar},r.a.createElement(be.a,null)),r.a.createElement(U.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:x.form,Validate:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){console.log(e.target.value),l(e.target.value)}}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){d(e.target.value)}}),r.a.createElement(y.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:x.submit,onClick:w},"Sign In"),r.a.createElement(O.a,{container:!0,justifyContent:"flex-end"},r.a.createElement(O.a,{item:!0,type:"button",onClick:function(){h(!0)}},r.a.createElement(fe.a,{href:"#",variant:"body2"},"Forgot password?"))))),r.a.createElement(Ce.a,{className:x.modal,open:C,onClose:function(){h(!1)},BackdropComponent:he.a,BackdropProps:{timeout:500}},r.a.createElement(j.a,{in:C},r.a.createElement("div",{className:x.paper2},r.a.createElement("h2",null,"Forget Password?"),r.a.createElement("p",null,"Please send a help desk ticket to "),r.a.createElement("p",null,"helpdesk@ncsbe.gov"),r.a.createElement("p",null,"to rest your password ")))),r.a.createElement(M.a,{mt:8},r.a.createElement(ye,null)))}function ve(){return r.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(fe.a,{color:"inherit",href:"https://www.ncsbe.gov/"},"NCSBE")," ",(new Date).getFullYear(),".")}var we=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Se=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={WebUserId:t,UserPassword:a},e.next=3,E.a.put("http://localhost:4000/auth/updateWebUser",n);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function De(e){var t=we(),a=Object(s.f)(),o=Object(n.useState)(),l=Object(c.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(),d=Object(c.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(),b=Object(c.a)(g,2),E=b[0],C=b[1];r.a.useEffect((function(){C(e.userData.WebUserId)}),[]);return r.a.createElement(Ee.a,{component:"main",maxWidth:"xs"},r.a.createElement(pe.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(de.a,{className:t.avatar},r.a.createElement(be.a,null)),r.a.createElement(U.a,{component:"h1",variant:"h5"},"Change Password"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"New Password",label:"New Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value)}}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Confirm Password",label:"Confirm Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)}}),r.a.createElement(y.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){i===p?(Se(E,i),a.push("/login")):alert("Passwords don't match")}},"Change Password"))),r.a.createElement(M.a,{mt:8},r.a.createElement(ve,null)))}var Ne=function(){var e=Object(n.useState)(function(){var e=le.a.get("userData");return void 0===e?{}:JSON.parse(e)}()),t=Object(c.a)(e,2),a=t[0],o=t[1];console.log("user data",a);var l=function(e){o(e),ue(e)};return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,"False"===a.IsDefault&&r.a.createElement(i.b,{to:"/audit-form"},"Audit Form")),r.a.createElement("li",null,"False"===a.IsDefault?r.a.createElement(i.b,{to:"/logout",onClick:function(){o({}),le.a.remove("userData")}},"Logout"):r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement("a",{href:"http://localhost:4000/files/User-Manual.docx",download:!0},"User-Manual")))),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/login"},r.a.createElement(xe,{onUserAuthenticated:l})),r.a.createElement(s.a,{path:"/change-password"},r.a.createElement(De,{userData:a})),r.a.createElement(s.a,{exact:!0,path:"/audit-form"},r.a.createElement(me,{userData:a})),r.a.createElement(s.a,{path:"/"},r.a.createElement(xe,{onUserAuthenticated:l})))))},Te=document.getElementById("root");l.a.render(r.a.createElement(Ne,null),Te)}},[[409,1,2]]]);
//# sourceMappingURL=main.84ca08e4.chunk.js.map